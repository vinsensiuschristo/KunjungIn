generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model user {
  id                    Int                  @id @default(autoincrement())
  email                 String               @unique
  name                  String
  password              String
  date_of_birth         DateTime?
  address               String
  rating                Float
  createdAt             DateTime             @default(now())
  updatedAt             DateTime             @updatedAt
  user_id               String               @unique
  city_id               Int
  recommendation_status Boolean              @default(false)
  city                  city                 @relation(fields: [city_id], references: [id])
  recommendations       user_recommendation?

  @@index([city_id], map: "user_city_id_fkey")
}

model historical_place {
  id              Int      @id @default(autoincrement())
  name            String
  description     String   @db.Text
  address         String   @db.Text
  latitude        String
  longitude       String
  city_id         Int
  opening_hours   String   @db.Text
  rating          Decimal  @db.Decimal(3, 2)
  user_rating     Int
  types           String
  phone_number    String
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  photo_reference String   @db.Text
  city            city     @relation(fields: [city_id], references: [id])

  @@index([city_id], map: "historical_place_city_id_fkey")
}

model city {
  id        Int                @id @default(autoincrement())
  name      String
  province  String
  country   String
  createdAt DateTime           @default(now())
  updatedAt DateTime           @updatedAt
  places    historical_place[]
  user      user[]
}

model place_type {
  id        Int      @id @default(autoincrement())
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model user_recommendation {
  id            Int      @id @default(autoincrement())
  user_id       Int      @unique
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  place_type_id String
  user          user     @relation(fields: [user_id], references: [id])
}
